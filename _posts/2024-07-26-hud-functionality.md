---
title: At Last, A Functional HUD
---

This past week's work has seen a lot of refactors and tools work, since after a few days of working on the structure of my new UI layout for displaying unit information, I realized that the UIElements bindings only work in the Editor. After some time building my own bindings system and structuring unit information around each bit of data used by different components, I'm looking forward to improving on the visuals with (hopefully) only minor tweaks to the code from here on out.

Now, when a unit is selected (or if multiple are selected, the last one that was dragged over) will have its information displayed and updated real-time in the HUD. I had to make some custom binding logic for this, which might be a little specific at the moment but could be extended to bind data to the HUD from almost anywhere. The small colored boxes in the screenshot below are placeholders until I find something to represent the info in each category (attack damage, range, move speed).

![A screenshot of the game viewport and lower HUD panels, with the center panel populated with unit info. The panel shows the unit's name and affiliation at the top, a preview of the unit's sprite in center left with a healthbar along the bottom, and the unit's more detailed stats like damage, speed and line-of-sight to the right of the sprite portrait.](/../assets/images/blog/0014/unitinfo.png)

In addition, I wanted to standardize unit information across instances of the same type, so I went ahead and created a new ScriptableObject type to hold unit data. Hooking it up to a general component that finds other components on the same object and assigns their unit data references from it, it works the same as before (hurray!) but now can be easily edited in one place. Inspired by the ease of updating all the units' info from one place, I also tried making an inspector for unit affiliations that allows all affiliated units' sprite tint to match the color set for the whole Affiliation as well, but it seems like I haven't gotten the events sorted out properly to work in real time.

![A screenshot of the Unity inspector while inspecting a UnitInfo instance, showing various statistics in foldout menus for attack, move and health information.](/../assets/images/blog/0014/scriptableobject.png)

Not much else to show unfortunately: refactors don't make for many fun things to show off. I did get a lot done laying the groundwork for dropping in new unit variants and displaying info on the HUD in future, so I figure my next objective will be a more user-facing feature. I've wanted to expand the combat system since its first basic iteration, and although I don't have any complex designs for unit attacks yet, the main gap in attack variation is probably going to be between melee and ranged. I've started figuring out the math for getting a pretty arc between points on a grid, but I've still got quite a ways to go in implemeting a functional ranged projectile system for combat --- we'll see where I'm at next week.